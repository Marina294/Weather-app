(this["webpackJsonpreact-hooks-update"]=this["webpackJsonpreact-hooks-update"]||[]).push([[0],{15:function(e,t,c){},23:function(e,t,c){},44:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c(16),a=c.n(r),i=(c(23),c(6)),s=c.n(i),o=c(17),u=c(4),j=c(18),l=c.n(j),d=c(0),h=function(){return Object(d.jsx)("div",{className:"title",children:Object(d.jsx)("h2",{children:"Check The Current Weather"})})},b=function(e){return Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"row search-section",children:[Object(d.jsx)("input",{className:"search-input",type:"text",name:"city",placeholder:"City...",value:e.cityName,onChange:function(t){e.onChangeCityName(t.target.value)}}),Object(d.jsx)("button",{className:"search-btn",onClick:e.onSubmit,children:"check it!"})]})})},p=function(e){return Object(d.jsxs)("div",{className:"weather-section",children:[Object(d.jsxs)("h3",{children:[e.city,", ",e.country]}),Object(d.jsx)("div",{children:e.icon&&Object(d.jsx)("img",{className:"weather-img",src:"http://openweathermap.org/img/w/".concat(e.icon,".png"),alt:""})}),Object(d.jsx)("div",{className:"weather-temp",children:Object(d.jsxs)("h1",{children:[e.temperature," ",Object(d.jsx)("span",{children:"\xb0c"})]})}),Object(d.jsx)("div",{className:"weather-detail",children:Object(d.jsxs)("p",{children:["Feels Like ",e.feelsLike," \xb0c",Object(d.jsx)("br",{}),"Humidity ",e.humidity," %",Object(d.jsx)("br",{}),"Wind ",e.winds," km/h",Object(d.jsx)("br",{})]})})]})},O=(c(15),c(3)),m={weather:{main:{temp:null},wind:{speed:null},sys:{country:null},weather:[{icon:""}]},cityName:"Vancouver",error:null},x=function(e,t){switch(t.type){case"SET_WEATHER":return Object(O.a)(Object(O.a)({},e),{},{weather:t.payload});case"SET_CITY_NAME":return Object(O.a)(Object(O.a)({},e),{},{cityName:t.payload});case"ERROR":return Object(O.a)(Object(O.a)({},e),{},{error:t.payload});default:return e}},y=Object(n.createContext)(void 0),v=Object(n.createContext)(void 0),f=function(e){var t=e.children,c=Object(n.useReducer)(x,m),r=Object(u.a)(c,2),a=r[0],i=r[1];return Object(d.jsx)(y.Provider,{value:a,children:Object(d.jsx)(v.Provider,{value:i,children:t})})},w=function(){var e=Object(n.useContext)(y);if(void 0===e)throw new Error("Please use within WeatherStateProvider");return e},N=function(){var e=Object(n.useContext)(v);if(void 0===e)throw new Error("Please use within WeatherDispatchProvider");return e},E=function(){var e=w().error,t=N();return e?Object(d.jsx)("div",{className:"modal-wrapper",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsx)("p",{children:e}),Object(d.jsx)("button",{onClick:function(){return t({type:"ERROR",payload:null})},children:"Ok"})]})}):null},k=function(){var e=Object(n.useState)(!0),t=Object(u.a)(e,2),c=t[0],r=t[1],a=w(),i=a.weather,j=a.cityName,O=N();return Object(n.useEffect)((function(){c&&function(){var e=Object(o.a)(s.a.mark((function e(){var t,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!1),e.prev=1,t="https://api.openweathermap.org/data/2.5/weather?q=".concat(j,"&units=metric&appid=a69f91a75eaef12893f8ceb6edd05841&units=metric"),e.next=5,l.a.get(t);case 5:c=e.sent,O({type:"SET_WEATHER",payload:c.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),O({type:"ERROR",payload:"Error: This city is unavailable in our system"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()()}),[c]),i?Object(d.jsxs)("div",{className:"wrap",children:[Object(d.jsx)(h,{}),Object(d.jsx)(b,{cityName:j,onSubmit:function(){return r(!0)},onChangeCityName:function(e){return O({type:"SET_CITY_NAME",payload:e})}}),Object(d.jsx)(p,{city:j,country:i.sys.country,icon:i.weather[0].icon,description:i.weather[0].description,temperature:i.main.temp,feelsLike:i.main.feels_like,humidity:i.main.humidity,winds:i.wind.speed})]}):Object(d.jsx)("h1",{children:"Loading....."})},C=function(){return Object(d.jsxs)(f,{children:[Object(d.jsx)(E,{}),Object(d.jsx)(k,{})]})};a.a.render(Object(d.jsx)(C,{}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.9326133b.chunk.js.map